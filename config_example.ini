# ========================================
# MusicBot-Go 配置文件
# ========================================
# 本配置文件使用 INI 格式
# 支持插件化平台配置: [plugins.platform_name]
# 详见: https://github.com/liuran001/MusicBot-Go

# ========================================
# 基础配置 (Required)
# ========================================
# 你的 Bot Token (必填)
BOT_TOKEN = YOUR_BOT_TOKEN

# ========================================
# 可选配置 (Optional)
# ========================================
# 自定义 telegram bot API 地址
BotAPI = https://api.telegram.org

# 是否开启 bot 的 debug 功能
BotDebug = false

# 管理员用户 ID（逗号分隔），仅管理员可执行 /reload 和 /rmcache
BotAdmin =

# 自定义 sqlite3 数据库文件（默认为 cache.db）
Database = cache.db

# 数据库连接池最大连接数 (默认: 1)
DBMaxOpenConns = 1

# 数据库连接池最大空闲连接数 (默认: 1)
DBMaxIdleConns = 1

# 连接最大生命周期 (单位秒, 默认: 3600)
DBConnMaxLifetimeSec = 3600

# 缓存目录 (默认: ./cache)
CacheDir = ./cache

# worker pool 大小 (默认: 4)
WorkerPoolSize = 4

# 识曲服务端口 (默认: 3737)
RecognizePort = 3737

# 发送限流：每秒消息数 (默认: 1.0)
RateLimitPerSecond = 1.0

# 发送限流：突发消息数 (默认: 3)
RateLimitBurst = 3

# 设置日志等级 [panic|fatal|error|warn|info|debug|trace] (默认为 info)
LogLevel = info

# 日志格式 [text|json] (默认为 text)
LogFormat = text

# 是否显示日志 source 信息 (默认为 false)
LogSource = false

# GORM 日志等级 [silent|error|warn|info] (默认为 warn)
GormLogLevel = warn

# 默认音质 (standard|high|lossless|hires)
DefaultQuality = hires

# 默认平台 (例如: netease)
DefaultPlatform = netease

# 搜索回退平台 (默认: netease)
SearchFallbackPlatform = netease

# 下载并发 (默认: 4)
DownloadConcurrency = 4

# 上传并发 (默认: 1)
UploadConcurrency = 1

# 上传队列大小 (默认: 20)
UploadQueueSize = 20

# 下载超时时长 (单位秒, 默认为 60)
DownloadTimeout = 60

# 启用多线程下载 (默认: true)
EnableMultipartDownload = true

# 多线程下载并发数 (默认: 4, 推荐 4-8)
MultipartConcurrency = 4

# 多线程下载最小文件大小 (单位: MB, 默认: 5)
# 小于此大小的文件使用单线程下载
MultipartMinSizeMB = 5

# 自定义下载反向代理
ReverseProxy = 114.5.1.4:8080

# ========================================
# 插件配置 (Platform Plugins)
# ========================================

# 动态脚本插件目录 (默认: ./plugins/scripts，可指向外部插件仓库的 scripts 目录)
PluginScriptDir = ./plugins/scripts

# 网易云音乐插件配置
[plugins.netease]
# 是否启用该插件 (默认: true)
enabled = true
# MUSIC_U Cookie (用于下载无损/Hi-Res 音质)
# 获取方式: 登录 music.163.com 后, 从浏览器 Cookie 中复制 MUSIC_U 值
music_u = YOUR_MUSIC_U_COOKIE

# Spotify 插件配置 (未来支持)
# [plugins.spotify]
# client_id = YOUR_SPOTIFY_CLIENT_ID
# client_secret = YOUR_SPOTIFY_CLIENT_SECRET

# QQ 音乐插件配置 (未来支持)
# [plugins.qqmusic]
# cookie = YOUR_QQ_MUSIC_COOKIE

# ========================================
# 向后兼容说明 (Backward Compatibility)
# ========================================
# 注意: 旧版本的 MUSIC_U 配置项已迁移到插件配置
# 请使用 [plugins.netease] 部分的 music_u 配置
#
# 旧格式 (已弃用但仍支持):
# MUSIC_U = YOUR_MUSIC_U
#
# 新格式 (推荐):
# [plugins.netease]
# music_u = YOUR_MUSIC_U
