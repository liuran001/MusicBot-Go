# ========================================
# MusicBot-Go 配置文件
# ========================================
# 本配置文件使用 INI 格式
# 支持插件化平台配置: [plugins.platform_name]
# 详见: https://github.com/liuran001/MusicBot-Go

# ========================================
# 基础配置 (Required)
# ========================================
# 你的 Bot Token (必填)
BOT_TOKEN = YOUR_BOT_TOKEN

# ========================================
# 可选配置 (Optional)
# ========================================
# 自定义 telegram bot API 地址
BotAPI = https://api.telegram.org
# 是否开启 bot 的 debug 功能
BotDebug = false
# 管理员用户 ID（逗号分隔），仅管理员可执行 /reload 和 /rmcache
BotAdmin =
# 自定义 sqlite3 数据库文件（默认为 cache.db）
Database = cache.db
# 数据库连接池最大连接数 (默认: 1)
DBMaxOpenConns = 1
# 数据库连接池最大空闲连接数 (默认: 1)
DBMaxIdleConns = 1
# 连接最大生命周期 (单位秒, 默认: 3600)
DBConnMaxLifetimeSec = 3600
# 缓存目录 (默认: ./cache)
CacheDir = ./cache
# worker pool 大小 (默认: 4)
WorkerPoolSize = 4
# 识曲服务端口 (默认: 3737)
RecognizePort = 3737
# 是否启用听歌识曲功能 (默认: true)
# 关闭后不启动 Node.js 识曲服务，不依赖 ffmpeg，命令列表中移除 /recognize
EnableRecognize = true
# 是否启用聊天白名单 (默认: false)
# 开启后仅允许白名单中的 chatID 使用 Bot，BotAdmin 始终可绕过
EnableWhitelist = false
# 白名单 chatID 列表（逗号/分号/空格分隔）
# 可通过管理员命令 /wl add <chatID>、/wl del <chatID> 动态维护并回写到配置文件
WhitelistChatIDs =
# 发送限流：每秒消息数 (默认: 1.0)
RateLimitPerSecond = 1.0
# 发送限流：突发消息数 (默认: 3)
RateLimitBurst = 3
# 设置日志等级 [panic|fatal|error|warn|info|debug|trace] (默认为 info)
LogLevel = info
# 日志格式 [text|json] (默认为 text)
LogFormat = text
# 是否显示日志 source 信息 (默认为 false)
LogSource = false
# GORM 日志等级 [silent|error|warn|info] (默认为 warn)
GormLogLevel = warn
# 默认音质 (standard|high|lossless|hires)
DefaultQuality = hires
# 默认平台 (例如: netease)
DefaultPlatform = netease
# 搜索回退平台 (默认: netease)
SearchFallbackPlatform = netease
# 搜索/歌单 单页展示条数 (默认: 8)
# 同时用于 inline 点第一行后“展开详情”页的每页数量
ListPageSize = 8
# Inline 查询结果页展示条数 (默认: 30, 最大: 30)
# 即你在输入框里看到的 inline 结果列表每页数量
InlineListPageSize = 30
# 下载并发 (默认: 4)
DownloadConcurrency = 4
# 上传并发 (默认: 1)
UploadConcurrency = 1
# 上传队列大小 (默认: 20)
UploadQueueSize = 20
# Inline 模式下载中转聊天 ID（可选）
# 用于将音频先上传到该聊天获取 file_id，再编辑 inline 消息为音频
# 建议填你的私聊 ID 或专用私有频道 ID（bot 需有发消息权限）
InlineUploadChatID = 0
# 下载超时时长 (单位秒, 默认为 60)
DownloadTimeout = 60
# 是否启用 MD5 校验 (默认: true)
CheckMD5 = true
# 启用多线程下载 (默认: true)
EnableMultipartDownload = true
# 多线程下载并发数 (默认: 4, 推荐 4-8)
MultipartConcurrency = 4
# 多线程下载最小文件大小 (单位: MB, 默认: 5)
# 小于此大小的文件使用单线程下载
MultipartMinSizeMB = 5
# 自定义下载反向代理
# ReverseProxy = 114.5.1.4:8080

# ========================================
# 插件配置 (Platform Plugins)
# ========================================

# 动态脚本插件目录 (默认: ./plugins/scripts，可指向外部插件仓库的 scripts 目录)
# PluginScriptDir = ./plugins/scripts

# 网易云音乐插件配置
[plugins.netease]
# 是否启用该插件 (默认: true)
enabled = true
# 是否禁用雷达歌单解析 (默认: true)
# 说明: 雷达歌单可能暴露账号听歌习惯，默认禁用更安全
# 如需开启雷达歌单解析，请显式设置为 false
disable_radar = true
# MUSIC_U Cookie (用于下载无损/Hi-Res 音质)
# 获取方式: 登录 music.163.com 后, 从浏览器 Cookie 中复制 MUSIC_U 值
music_u = YOUR_MUSIC_U_COOKIE
# 是否启用随机 IP 请求头伪装 (默认: true)
# 开启后会为网易云请求附加 X-Real-IP/X-Forwarded-For 等随机大陆网段 IP 头
spoof_ip = true

# QQ 音乐插件配置
[plugins.qqmusic]
# 是否启用该插件 (默认: true)
enabled = true
# QQ 音乐 Cookie（登录 y.qq.com 后从浏览器复制，需要使用 `` 包裹）
cookie = `YOUR_QQ_MUSIC_COOKIE`
# 请求超时（秒，默认: 10）
timeout = 10
# 自动续签开关（需要 Cookie 含 psrf_* 字段）
# auto_renew_enabled = true
# 自动续签间隔（秒，默认: 72000 ≈ 20h）
# auto_renew_interval_sec = 72000
# 自动续签后写回配置文件
# auto_renew_persist_enabled = false
# 写回配置路径（默认: ./config.ini）
# auto_renew_persist_path = ./config.ini

# Bilibili 插件配置
[plugins.bilibili]
# 是否启用该插件 (默认: true)
enabled = true
# Bilibili 账号 Cookie (登录后从浏览器复制，使用 `` 包裹)
# 获取大会员高音质需配置包含 SESSDATA 等字段的 Cookie。
# cookie = `YOUR_BILIBILI_COOKIE`
# 若需开启自动续约以防过期(推荐)，请在浏览器 F12 (Application -> Local Storage)
# 中找到 ac_time_value，将其填入下方的 refresh_token 中：
# refresh_token = `YOUR_AC_TIME_VALUE`
